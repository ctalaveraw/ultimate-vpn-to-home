---
##                       ._____.   .__
##  _____    ____   _____|__\_ |__ |  |   ____             ____ _____    ______
##  \__  \  /    \ /  ___/  || __ \|  | _/ __ \   ______  /    \\__  \  /  ___/
##   / __ \|   |  \\___ \|  || \_\ \  |_\  ___/  /_____/ |   |  \/ __ \_\___ \
##  (____  /___|  /____  >__||___  /____/\___  >         |___|  (____  /____  >
##       \/     \/     \/        \/          \/               \/     \/     \/
##     a n s i b l e - n a s      https://github.com/davestephens/ansible-nas

###
### DO NOT EDIT THIS FILE!
### Add your customisations to inventories/<your_inventory>/group_vars/nas.yml
###


###
### Default variables
###

username: "{{ admin_username }}"
root_host: "{{ vpn_home_domain }}"
enable_username_creation: yes
user_shell: /bin/bash
enable_passwordless_sudo: yes
# Whether or not you want to generate a public key pair for SSH auth
# The playbook will not generate a new pair if $HOME/.ssh/authorized_keys exists and isn't empty
enable_ssh_keygen: yes
# Uncomment this line if you already have a public SSH key and put your public key in it
# This overrides `enable_ssh_keygen`
# ssh_public_key: ""

wireguard_port: "51820"
# Possible choices: cloudflare, quad9, google
#
# In case you've enabled Adguard, Unbound and DoH functionality,
# this will also set upstream DoH resolvers for dnscrypt
dns_nameservers: cloudflare
# This will enable Adguard, Unbound and dnscrypt-proxy
# for secure DNS resolution with ad-blocking functionality

# Language and time settings
# Check here for the list of possible locales
# https://docs.oracle.com/cd/E23824_01/html/E26033/glset.html
locale: en_US.UTF-8
timezone: America/New_York
# Set the time at which the system should reboot after installing updates (24H format)
autoupdate_reboot_time: 03:00
docker_dir: "/opt/docker"
# You can set it to a different port in order to avoid automated scanner bots
ssh_port: 22

enable_firewall: true
firewall_ports:
  - port: "{{ wireguard_port }}"
    proto: "udp"
  - port: "80"
    proto: "tcp"
  - port: "443"
    proto: "tcp"
  - port: "{{ ssh_port }}"
    proto: "tcp"
# Fail2Ban only comes with the SSH jail by default
enable_fail2ban: true
pip_install_packages:
  - name: docker
docker_users:
  - "{{ username }}"

###
### General
###

extra_packages:
  - smartmontools
  - htop
  - zfsutils-linux
  - bonnie++
  - unzip
  - lm-sensors
  - tree
  - vim 
  - zsh

## Wireguard config
wireguard_enabled: true
wireguard_available_exterally: false
wireguard_client_ip_dns: "1.1.1.1"

wireguard_hostname: "vpn"
wireguard_host: "{{ wireguard_hostname }}.{{ root_host }}"

# Create admin username
admin_username: administrator
user_password: ""

# Your email and domain, used for Let's Encrypt SSL certs
vpn_home_email: ""

# Applications will have subdomain SSL certificates created if Traefik is enabled, e.g. ansible-nas.<your-domain>, nextcloud.<your-domain>
vpn_home_domain: ""

# What version of python ansible should use on target system (path to spesific binary)
ansible_python_interpreter: /usr/bin/python3

docker_home: "{{ docker_dir }}"

###
### Cloudflare
###

cloudflare_ddns_enabled: false

# Data directory for config file
cloudflare_data_directory: "{{ docker_home }}/cloudflare_ddns"

# Your domain name
cloudflare_zone: "{{ vpn_home_domain }}"

# The hostname you want the container to update. You shouldn't need to change this.
cloudflare_host: "*.{{ cloudflare_zone }}"

# Cloudflare scoped token (https://github.com/joshuaavalon/docker-cloudflare#api-token)
# Make sure token permissions include #DNS:Edit and #Zone:Read
cloudflare_token: "abcdabcdabcd123412341234"

# Cloudflare Global API token
cloudflare_token_global: "abcdabcd123412341234"

# Set to true to make traffic go through the CloudFlare CDN.
# Note that if the cloudflare host is a wildcard (the default), this must be false, as cloudflare
# does not support http proxy of wildcard CNAMEs.
cloudflare_proxy: false

# Set to AAAA to use set IPv6 records instead of IPv4 records.
cloudflare_type: "A"

# specs
cloudflare_memory: 512MB

# docker
cloudflare_container_name: cloudflare-ddns

# ###
# ### Traefik Reverse Proxy Config
# ###

# traefik_enabled: false

# # find the relevant name and environment variables for your DNS provider at https://go-acme.github.io/lego/dns/
# traefik_dns_provider: "cloudflare"
# traefik_environment_variables:
#   CF_DNS_API_TOKEN: "{{ cloudflare_token }}"
#   CF_ZONE_API_TOKEN: "{{ cloudflare_token }}"

# # Ansible-NAS requests a wildcard certificate for your domain, so there should be no reason to have to use the staging
# # letsencrypt acme server. If you do want to flip between staging/production, you might need to stop Traefik and clear
# # the "{{ docker_home }}/traefik" after changing this setting.
# # traefik_acme_server: "https://acme-staging-v02.api.letsencrypt.org/directory" # staging
# traefik_acme_server: "https://acme-v02.api.letsencrypt.org/directory" # production

